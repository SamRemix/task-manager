@use '../../styles/vars' as v;
@use '../../styles/mixins' as mix;

.dark-filter {
  clip-path: circle(0 at 50% 0);
  backdrop-filter: brightness(70%) sepia(60%) contrast(140%);
  position: absolute;
  inset: 0;
  z-index: 10;
  pointer-events: none;
  transition: .8s;

  &--active {
    @extend .dark-filter;
    clip-path: circle(150% at 50% 0);
  }
}

.display-navbar {
  @include mix.flex-center;
  // padding: 10px;
  width: 50px;
  height: 50px;
  background: #ebdfff;
  box-shadow: 0 1px 2px rgb(0 0 0 / 40%);
  border-radius: v.$radius;
  position: absolute;
  inset: 10px auto auto 10px;
  z-index: 8;
  cursor: pointer;
  transition: .4s;

  &--active {
    @extend .display-navbar;
    transform: translateX(calc(100vw - v.$app-padding - 50px));
    // inset: .5rem .5rem auto auto;

    span {
      width: 30px !important;

      &:nth-child(1) {
        transform: translateY(0) rotate(45deg) !important;
      }

      &:nth-child(2) {
        transform: translateY(0) rotate(-45deg) !important;
      }

      &:nth-child(3) {
        width: 0 !important;
        transform: translateX(15px) !important;
        transition: .2s !important;
      }
    }
  }

  span {
    height: 2px;
    background: #000;
    border-radius: 2px;
    position: absolute;
    inset: auto auto auto 10px;
    z-index: 100;
    transition: .4s;

    &:nth-child(1) {
      width: 20px;
      transform: translateY(-10px);
    }

    &:nth-child(2) {
      width: 15px;
      transform: translateY(10px);
    }

    &:nth-child(3) {
      width: 30px;
      transform: translateX(0);
      transition: .4s !important;
    }
  }
}

.navbar {
  @include mix.flex-column-gap(2.5rem);
  margin-left: v.$app-padding;
  padding: 2rem;
  width: 20rem;
  height: calc(100vh - v.$app-padding * 2);
  background: v.$light;
  border-right: 1px solid #000;
  position: fixed;
  transform: translateX(-100%);
  overflow-y: scroll;
  direction: rtl;
  z-index: 1;
  transition: .4s;

  &--active {
    @extend .navbar;
    width: calc(100% - v.$app-padding * 3);
    transform: translateX(0);
  }

  &>* {
    direction: ltr;
  }

  .header {
    margin-right: 2rem;
    display: flex;
    align-items: center;
    justify-content: space-between;

    &-theme-switcher,
    &-lang-switcher {
      cursor: pointer;
      transition: .2s;
    }
  }

  .user__card {
    @include mix.flex-column-center-gap(1rem);

    &-picture {
      @include mix.flex-center;
      width: 4rem;
      height: 4rem;
      background: v.$light;
      border: 1px solid #000;
      border-radius: 50%;
    }
  }

  &__list {
    height: 100%;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    flex-direction: column;
    gap: 3rem;

    .menu,
    .auth {
      @include mix.flex-column-gap(1rem);
      width: 100%;

      .navbar__list-item {
        &.soon {
          opacity: .3;
          pointer-events: none;
        }

        &.error-message,
        .link,
        .content {
          @include mix.flex-align-gap(1rem);
          height: 2.5rem;
          overflow-wrap: break-word;

          h1.title {
            font-size: 1.1rem;
            font-weight: 400;
          }
        }

        .link {
          cursor: pointer;
        }

        .boards__list {
          @include mix.flex-column-gap(1rem);
          margin: 1rem 0;
          position: relative;

          &-item {
            margin-left: 1rem;

            .link {

              // &:hover,
              // &.active {

              // .icon,
              // .title {
              // color: v.$green-1;
              // }
              // }

              .icon,
              .title {
                transition: .1s;
              }

              .title {
                font-size: 1.1rem;
                font-weight: 200;
              }
            }
          }
        }
      }
    }
  }
}